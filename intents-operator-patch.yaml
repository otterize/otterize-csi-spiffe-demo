spec:
  template:
    spec:
      securityContext:
        runAsNonRoot: false
      containers:
      - name: manager
        imagePullPolicy: Always
        volumeMounts:
        - mountPath: "/aws-config"
          name: spiffe
        env:
        - name: OTTERIZE_TRUST_ANCHOR_ARN
          value: arn:aws:rolesanywhere:eu-west-2:228615251467:trust-anchor/1d88908e-0453-491a-84d0-aed2038a3916
        - name: AWS_SHARED_CREDENTIALS_FILE
          value: "/aws-config/credentials"
        - name: AWS_REGION
          value: "eu-west-2"
        securityContext:
          runAsNonRoot: false
      volumes:
      - name: spiffe
        csi:
          driver: spiffe.csi.cert-manager.io
          readOnly: true
          volumeAttributes:
            aws.spiffe.csi.cert-manager.io/trust-profile: "<otterize-intents-operator-trust-profile-arn from Terraform output>"
            aws.spiffe.csi.cert-manager.io/trust-anchor: "<trust-anchor-arn from Terraform output>"
            aws.spiffe.csi.cert-manager.io/role: "<otterize-intents-operator-role-arn from Terraform output>"
            aws.spiffe.csi.cert-manager.io/enable: "true"
